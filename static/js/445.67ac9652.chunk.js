"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[445],{368:function(e,n,t){var r=t(271),i=t(523),c=t(184);n.Z=function(e){var n=e.movies,t=(0,r.TH)();return(0,c.jsx)("ul",{children:n.results.map((function(e){return(0,c.jsx)("li",{children:(0,c.jsx)(i.rU,{to:{pathname:"/movies/".concat(e.id),state:{from:t}},children:e.original_title})},e.id)}))})}},445:function(e,n,t){t.r(n),t.d(n,{default:function(){return _}});var r=t(683),i=t(861),c=t(152),a=t(757),o=t.n(a),u=t(791),s=t(577),f=t(185),l=t(697),h=t(271),m=t(589),p="Spinner_SpinnerWrap__jifnD",d=t(184);var v=function(){return(0,d.jsx)("div",{className:p,children:(0,d.jsx)(m.Ll,{color:"#6ea5f8",height:120,width:120,arialLabel:"loading"})})},g=t(368);function _(){var e=(0,u.useState)(null),n=(0,c.Z)(e,2),t=n[0],a=n[1],m=(0,u.useState)(!1),p=(0,c.Z)(m,2),_=p[0],x=p[1],w=(0,h.TH)(),j=(0,h.k6)(),y=new URLSearchParams(w.search).get("query");(0,u.useEffect)((function(){if(y){var e=function(){var e=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,l.mv(y).then((function(e){if(0===e.results.length)return x(!1),s.Am.warning("There is no such movie",{theme:"colored"});a(e),x(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[y]);return(0,d.jsxs)("div",{children:[(0,d.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=e.currentTarget.elements.query.value;if(""!==n){if(""===n.trim())return s.Am.warning("Enter movie title",{theme:"colored"});j.push((0,r.Z)((0,r.Z)({},w),{},{search:"query=".concat(n.trim())})),e.currentTarget.reset()}},children:[(0,d.jsx)("input",{type:"text",name:"query",autoComplete:"off",autoFocus:!0,placeholder:"Search film "}),(0,d.jsx)("button",{type:"submit",children:(0,d.jsx)(f.dVI,{})})]}),_&&(0,d.jsx)(v,{}),t&&(0,d.jsx)(g.Z,{movies:t})]})}},697:function(e,n,t){t.d(n,{PV:function(){return l},Mc:function(){return h},mv:function(){return m}});var r=t(861),i=t(757),c=t.n(i),a=t(577),o=(t(150),"5fe4e7cb700e0e7e8be54b15a82973ef"),u="https://api.themoviedb.org/3/";function s(){return f.apply(this,arguments)}function f(){return f=(0,r.Z)(c().mark((function e(){var n,t,r=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:"",e.next=3,fetch(n);case 3:return t=e.sent,e.abrupt("return",t.ok?t.json():Promise.reject(new Error(a.Am.error("Something went wrong :(",{theme:"colored"}))));case 5:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function l(){return s("".concat(u,"trending/movie/day?api_key=").concat(o))}function h(e){return s("".concat(u,"movie/").concat(e,"?api_key=").concat(o,"&language=en-US&append_to_response=reviews,credits"))}function m(e){return s(" ".concat(u,"search/movie?api_key=").concat(o,"&query=").concat(e,"&language=en-US&page=1&include_adult=false"))}}}]);
//# sourceMappingURL=445.67ac9652.chunk.js.map